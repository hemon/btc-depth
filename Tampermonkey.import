{"created_by":"Tampermonkey","version":"1","scripts":[{"name":"OkcoinBtc","options":{"awareOfChrome":true,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_prototypes":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"excludes":false,"includes":false,"matches":false,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":[],"orig_includes":[],"orig_matches":["https://www.okcoin.com/trade/btc.do*"],"orig_noframes":null,"orig_run_at":"document-end","use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"user_agent":""},"enabled":true,"position":1,"source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgT2tjb2luQnRjCi8vIEBuYW1lc3BhY2UgIGh0dHA6Ly93d3cuaGVtb25vLmNvbS8KLy8gQHZlcnNpb24gICAgMC4xCi8vIEBkZXNjcmlwdGlvbiAgZW50ZXIgc29tZXRoaW5nIHVzZWZ1bAovLyBAbWF0Y2ggICAgICBodHRwczovL3d3dy5va2NvaW4uY29tL3RyYWRlL2J0Yy5kbyoKLy8gQGNvcHlyaWdodCAgMjAxNCssIGhlbW9ub0BnbWFpbC5jb20KLy8gPT0vVXNlclNjcmlwdD09CihmdW5jdGlvbigpIHsKICAgIGZ1bmN0aW9uIERlcHRoKG9wdGlvbnMpIHsKICAgICAgICB2YXIgaTsKICAgICAgICBmb3IgKGkgaW4gb3B0aW9ucykgewogICAgICAgICAgICBpZiAob3B0aW9ucy5oYXNPd25Qcm9wZXJ0eShpKSkgewogICAgICAgICAgICAgICAgdGhpc1tpXSA9IG9wdGlvbnNbaV07CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CiAgICAKICAgIERlcHRoLnByb3RvdHlwZSA9IHsKICAgICAgICBhcGkgOiAnJywKICAgICAgICBsaW1pdCA6IDYwLAogICAgICAgIHN0ZXAgOiA1LAogICAgICAgIGNvbnRhaW5uZXIgOiAnJywKICAgICAgICBkZXB0aCA6IFtdLAogICAgICAgIGxldmVsIDogW10sCiAgICAgICAgdHJpbSA6IGZ1bmN0aW9uIChkYXRhLCBsaW1pdCkgewogICAgICAgICAgICB2YXIgbGVuZ3RoID0gZGF0YS5hc2tzLmxlbmd0aCwgCiAgICAgICAgICAgICAgICBhc2tzID0gW10sIAogICAgICAgICAgICAgICAgYmlkcyA9IFtdLCAKICAgICAgICAgICAgICAgIGkgPSAwOwogICAgICAgICAgICBsaW1pdCA9IChsaW1pdD5sZW5ndGggPyBsZW5ndGggOiBsaW1pdCk7CiAgICAgICAgICAgIAogICAgICAgICAgICBmb3IgKGkgPSBsZW5ndGgtbGltaXQ7IGkgPCBsZW5ndGggOyBpKyspIHsKICAgICAgICAgICAgICAgIGFza3MucHVzaChbcGFyc2VGbG9hdChkYXRhLmFza3NbaV1bMF0pLCBwYXJzZUZsb2F0KGRhdGEuYXNrc1tpXVsxXSldKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGltaXQ7IGkrKyApIHsKICAgICAgICAgICAgICAgIGJpZHMucHVzaChbcGFyc2VGbG9hdChkYXRhLmJpZHNbaV1bMF0pLCBwYXJzZUZsb2F0KGRhdGEuYmlkc1tpXVsxXSldKTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4geydhc2tzJzphc2tzLCAnYmlkcyc6Ymlkc307CiAgICAgICAgfSwKICAgICAgICBzdW0gOiBmdW5jdGlvbiAoZGF0YSwgc3RlcCkgewogICAgICAgICAgICB2YXIgbGVuZ3RoID0gZGF0YS5hc2tzLmxlbmd0aCwKICAgICAgICAgICAgICAgIGogPSBsZW5ndGgvc3RlcCwKICAgICAgICAgICAgICAgIGkgPSAwLAogICAgICAgICAgICAgICAgYXNrcyA9IFtdLAogICAgICAgICAgICAgICAgYmlkcyA9IFtdLAogICAgICAgICAgICAgICAgc3VtID0gMDsKICAgICAgICAgICAgCiAgICAgICAgICAgIGZvciAoaSA9IGxlbmd0aC0xOyBpID49IDA7IGktLSkgewogICAgICAgICAgICAgICAgc3VtICs9IGRhdGEuYXNrc1tpXVsxXTsKICAgICAgICAgICAgICAgIGlmICggaSAlIGogPT0gMCApIHsKICAgICAgICAgICAgICAgICAgICBhc2tzLnB1c2goW2RhdGEuYXNrc1tpXVswXS50b0ZpeGVkKDIpLCBzdW0udG9GaXhlZCgyKV0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAKICAgICAgICAgICAgc3VtID0gMDsKICAgICAgICAgICAgZm9yIChpID0gMTsgaSA8PSBsZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgc3VtICs9IGRhdGEuYmlkc1tpLTFdWzFdOwogICAgICAgICAgICAgICAgaWYgKCBpICUgaiA9PSAwICkgewogICAgICAgICAgICAgICAgICAgIGJpZHMucHVzaChbZGF0YS5iaWRzW2ktMV1bMF0udG9GaXhlZCgyKSwgc3VtLnRvRml4ZWQoMildKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgCiAgICAgICAgICAgIHJldHVybiB7J2Fza3MnOmFza3MsICdiaWRzJzpiaWRzfTsKICAgICAgICB9LAogICAgICAgIHVwZGF0ZSA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyICR0aGlzID0gdGhpczsKICAgICAgICAgICAgalF1ZXJ5LmFqYXgoewogICAgICAgICAgICAgICAgdXJsIDogJHRoaXMuYXBpLAogICAgICAgICAgICAgICAgZGF0YVR5cGUgOiAnanNvbicsCiAgICAgICAgICAgICAgICBjYWNoZSA6IGZhbHNlLAogICAgICAgICAgICAgICAgc3VjY2VzcyA6IGZ1bmN0aW9uKGRhdGEpIHsKICAgICAgICAgICAgICAgICAgICAkdGhpcy5kZXB0aCA9ICR0aGlzLnRyaW0oZGF0YSwgJHRoaXMubGltaXQpOwogICAgICAgICAgICAgICAgICAgICR0aGlzLmxldmVsID0gJHRoaXMuc3VtKCR0aGlzLmRlcHRoLCAkdGhpcy5zdGVwKTsKICAgICAgICAgICAgICAgICAgICBqUXVlcnkoJHRoaXMuY29udGFpbm5lcikuaHRtbCgkdGhpcy5kaXNwbGF5KCR0aGlzLmRlcHRoLCAkdGhpcy5sZXZlbCkpOwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIGNvbXBsZXRlIDogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpewogICAgICAgICAgICAgICAgICAgICAgICAkdGhpcy51cGRhdGUoKTsKICAgICAgICAgICAgICAgICAgICB9LCAxMDAwKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfSwKICAgICAgICBkaXNwbGF5IDogZnVuY3Rpb24gKGRlcHRoLCBsZXZlbCkgewogICAgICAgICAgICB2YXIgbWF4X3ZhbHVlID0gTWF0aC5tYXgobGV2ZWwuYXNrc1t0aGlzLnN0ZXAtMV1bMV0sIGxldmVsLmJpZHNbdGhpcy5zdGVwLTFdWzFdKSwKICAgICAgICAgICAgICAgIG1heF93aWR0aCA9IDgwLAogICAgICAgICAgICAgICAgdG1wID0gMCwKICAgICAgICAgICAgICAgIHdpZHRoID0gMCwKICAgICAgICAgICAgICAgIGkgPSAwLAogICAgICAgICAgICAgICAgbGVuZ3RoID0gZGVwdGguYXNrcy5sZW5ndGgsCiAgICAgICAgICAgICAgICBodG1sID0gJzxzdHlsZT4ub3JkZXJsaXN0IC5jLTF7d2lkdGg6NDAlO3BhZGRpbmctbGVmdDoxNXB4fS5vcmRlcmxpc3QgLmMtMntkaXNwbGF5OmlubGluZS1ibG9jaztoZWlnaHQ6MTVweDttYXJnaW46MCA1cHh9Lm9yZGVybGlzdCAuY2VudGVye3RleHQtYWxpZ246Y2VudGVyfSAub3JkZXJsaXN0e21hcmdpbjowO3BhZGRpbmc6MH0gLm9yZGVybGlzdCBsaSBzcGFue2Rpc3BsYXk6aW5saW5lLWJsb2NrfSAub3JkZXJsaXN0IGxpe21hcmdpbjogMDtwYWRkaW5nOiAwO2xpc3Qtc3R5bGU6IG5vbmU7IGxpbmUtaGVpZ2h0OjMwcHg7Ym9yZGVyLWJvdHRvbToxcHggc29saWQgI2U0ZTRlNH0ub3JkZXJsaXN0IC5ncmVlbntjb2xvcjogIzRkOWUzMzt9PC9zdHlsZT4nCiAgICAgICAgICAgICAgICAgICAgICsgJzx1bCBjbGFzcz0ib3JkZXJsaXN0Ij48bGkgY2xhc3M9ImJvcmRlcmJ0bSBibGFjayI+PHNwYW4gY2xhc3M9ImhlaWdodC00MCBjLTEgZm9udHNpemUiPuS7t+agvC/ljZXph488L3NwYW4+PHNwYW4gY2xhc3M9ImhlaWdodC00MCBjLTIgZm9udHNpemUiPua3seW6pjwvc3Bhbj48L2xpPic7CiAgICAgICAgICAgIGZvciAoaSA9IGxlbmd0aC10aGlzLnN0ZXA7IGkgPCBsZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgdG1wID0gbGV2ZWwuYXNrcy5wb3AoKTsKICAgICAgICAgICAgICAgIHdpZHRoID0gdG1wWzFdL21heF92YWx1ZSAqIG1heF93aWR0aDsKICAgICAgICAgICAgICAgIGh0bWwgKz0gJzxsaSBjbGFzcz0icmVkIj48c3BhbiBjbGFzcz0iYy0xIj4nK2RlcHRoLmFza3NbaV1bMF0udG9GaXhlZCgyKSsnIHwgJytkZXB0aC5hc2tzW2ldWzFdKyc8L3NwYW4+Jyt0bXBbMF0rJzxzcGFuIGNsYXNzPSJjLTIiIHN0eWxlPSJiYWNrZ3JvdW5kOiNmZjAwMDA7d2lkdGg6Jyt3aWR0aCsncHg7Ij48L3NwYW4+Jyt0bXBbMV0rJzwvbGk+JzsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHRoaXMuc3RlcDsgaSsrKSB7CiAgICAgICAgICAgICAgICB0bXAgPSBsZXZlbC5iaWRzLnNoaWZ0KCk7CiAgICAgICAgICAgICAgICB3aWR0aCA9IHRtcFsxXS9tYXhfdmFsdWUgKiBtYXhfd2lkdGg7CiAgICAgICAgICAgICAgICBodG1sICs9ICc8bGkgY2xhc3M9ImdyZWVuIj48c3BhbiBjbGFzcz0iYy0xIj4nK2RlcHRoLmJpZHNbaV1bMF0udG9GaXhlZCgyKSsnIHwgJytkZXB0aC5iaWRzW2ldWzFdKyc8L3NwYW4+Jyt0bXBbMF0rJzxzcGFuIGNsYXNzPSJjLTIiIHN0eWxlPSJiYWNrZ3JvdW5kOiMwNjg4MTQ7d2lkdGg6Jyt3aWR0aCsncHg7Ij48L3NwYW4+Jyt0bXBbMV0rJzwvbGk+JzsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaHRtbCArPSAnPGxpIGNsYXNzPSJjZW50ZXIiPicrKG5ldyBEYXRlKCkpLnRvTG9jYWxlU3RyaW5nKCkrJzwvbGk+PC91bD4nOwogICAgICAgICAgICByZXR1cm4gaHRtbDsKICAgICAgICB9CiAgICB9OwogICAgCiAgICAobmV3IERlcHRoKHsKICAgICAgICBhcGkgOiAnaHR0cHM6Ly93d3cub2tjb2luLmNvbS9hcGkvZGVwdGguZG8/c3ltYm9sPWJ0Y19jbnknLAogICAgICAgIGxpbWl0IDogNTAsCiAgICAgICAgc3RlcCA6IDUsCiAgICAgICAgY29udGFpbm5lciA6ICcuYnV5YnRjYm9keTInCiAgICB9KSkudXBkYXRlKCk7Cn0oKSk7Cg=="},{"name":"OkcoinLtc","options":{"awareOfChrome":true,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_prototypes":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"excludes":false,"includes":false,"matches":false,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":[],"orig_includes":[],"orig_matches":["https://www.okcoin.com/trade/ltc.do*"],"orig_noframes":null,"orig_run_at":"document-end","use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"user_agent":""},"enabled":true,"position":2,"source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgT2tjb2luTHRjCi8vIEBuYW1lc3BhY2UgIGh0dHA6Ly93d3cuaGVtb25vLmNvbS8KLy8gQHZlcnNpb24gICAgMC4xCi8vIEBkZXNjcmlwdGlvbiAgZW50ZXIgc29tZXRoaW5nIHVzZWZ1bAovLyBAbWF0Y2ggICAgICBodHRwczovL3d3dy5va2NvaW4uY29tL3RyYWRlL2x0Yy5kbyoKLy8gQGNvcHlyaWdodCAgMjAxNCssIGhlbW9ub0BnbWFpbC5jb20KLy8gPT0vVXNlclNjcmlwdD09CgooZnVuY3Rpb24oKSB7CiAgICBmdW5jdGlvbiBEZXB0aChvcHRpb25zKSB7CiAgICAgICAgdmFyIGk7CiAgICAgICAgZm9yIChpIGluIG9wdGlvbnMpIHsKICAgICAgICAgICAgaWYgKG9wdGlvbnMuaGFzT3duUHJvcGVydHkoaSkpIHsKICAgICAgICAgICAgICAgIHRoaXNbaV0gPSBvcHRpb25zW2ldOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQogICAgCiAgICBEZXB0aC5wcm90b3R5cGUgPSB7CiAgICAgICAgYXBpIDogJycsCiAgICAgICAgbGltaXQgOiA2MCwKICAgICAgICBzdGVwIDogNSwKICAgICAgICBjb250YWlubmVyIDogJycsCiAgICAgICAgZGVwdGggOiBbXSwKICAgICAgICBsZXZlbCA6IFtdLAogICAgICAgIHRyaW0gOiBmdW5jdGlvbiAoZGF0YSwgbGltaXQpIHsKICAgICAgICAgICAgdmFyIGxlbmd0aCA9IGRhdGEuYXNrcy5sZW5ndGgsIAogICAgICAgICAgICAgICAgYXNrcyA9IFtdLCAKICAgICAgICAgICAgICAgIGJpZHMgPSBbXSwgCiAgICAgICAgICAgICAgICBpID0gMDsKICAgICAgICAgICAgbGltaXQgPSAobGltaXQ+bGVuZ3RoID8gbGVuZ3RoIDogbGltaXQpOwogICAgICAgICAgICAKICAgICAgICAgICAgZm9yIChpID0gbGVuZ3RoLWxpbWl0OyBpIDwgbGVuZ3RoIDsgaSsrKSB7CiAgICAgICAgICAgICAgICBhc2tzLnB1c2goW3BhcnNlRmxvYXQoZGF0YS5hc2tzW2ldWzBdKSwgcGFyc2VGbG9hdChkYXRhLmFza3NbaV1bMV0pXSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGxpbWl0OyBpKysgKSB7CiAgICAgICAgICAgICAgICBiaWRzLnB1c2goW3BhcnNlRmxvYXQoZGF0YS5iaWRzW2ldWzBdKSwgcGFyc2VGbG9hdChkYXRhLmJpZHNbaV1bMV0pXSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIHsnYXNrcyc6YXNrcywgJ2JpZHMnOmJpZHN9OwogICAgICAgIH0sCiAgICAgICAgc3VtIDogZnVuY3Rpb24gKGRhdGEsIHN0ZXApIHsKICAgICAgICAgICAgdmFyIGxlbmd0aCA9IGRhdGEuYXNrcy5sZW5ndGgsCiAgICAgICAgICAgICAgICBqID0gbGVuZ3RoL3N0ZXAsCiAgICAgICAgICAgICAgICBpID0gMCwKICAgICAgICAgICAgICAgIGFza3MgPSBbXSwKICAgICAgICAgICAgICAgIGJpZHMgPSBbXSwKICAgICAgICAgICAgICAgIHN1bSA9IDA7CiAgICAgICAgICAgIAogICAgICAgICAgICBmb3IgKGkgPSBsZW5ndGgtMTsgaSA+PSAwOyBpLS0pIHsKICAgICAgICAgICAgICAgIHN1bSArPSBkYXRhLmFza3NbaV1bMV07CiAgICAgICAgICAgICAgICBpZiAoIGkgJSBqID09IDAgKSB7CiAgICAgICAgICAgICAgICAgICAgYXNrcy5wdXNoKFtkYXRhLmFza3NbaV1bMF0udG9GaXhlZCgyKSwgc3VtLnRvRml4ZWQoMildKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgCiAgICAgICAgICAgIHN1bSA9IDA7CiAgICAgICAgICAgIGZvciAoaSA9IDE7IGkgPD0gbGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgIHN1bSArPSBkYXRhLmJpZHNbaS0xXVsxXTsKICAgICAgICAgICAgICAgIGlmICggaSAlIGogPT0gMCApIHsKICAgICAgICAgICAgICAgICAgICBiaWRzLnB1c2goW2RhdGEuYmlkc1tpLTFdWzBdLnRvRml4ZWQoMiksIHN1bS50b0ZpeGVkKDIpXSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgIAogICAgICAgICAgICByZXR1cm4geydhc2tzJzphc2tzLCAnYmlkcyc6Ymlkc307CiAgICAgICAgfSwKICAgICAgICB1cGRhdGUgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciAkdGhpcyA9IHRoaXM7CiAgICAgICAgICAgIGpRdWVyeS5hamF4KHsKICAgICAgICAgICAgICAgIHVybCA6ICR0aGlzLmFwaSwKICAgICAgICAgICAgICAgIGRhdGFUeXBlIDogJ2pzb24nLAogICAgICAgICAgICAgICAgY2FjaGUgOiBmYWxzZSwKICAgICAgICAgICAgICAgIHN1Y2Nlc3MgOiBmdW5jdGlvbihkYXRhKSB7CiAgICAgICAgICAgICAgICAgICAgJHRoaXMuZGVwdGggPSAkdGhpcy50cmltKGRhdGEsICR0aGlzLmxpbWl0KTsKICAgICAgICAgICAgICAgICAgICAkdGhpcy5sZXZlbCA9ICR0aGlzLnN1bSgkdGhpcy5kZXB0aCwgJHRoaXMuc3RlcCk7CiAgICAgICAgICAgICAgICAgICAgalF1ZXJ5KCR0aGlzLmNvbnRhaW5uZXIpLmh0bWwoJHRoaXMuZGlzcGxheSgkdGhpcy5kZXB0aCwgJHRoaXMubGV2ZWwpKTsKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBjb21wbGV0ZSA6IGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMudXBkYXRlKCk7CiAgICAgICAgICAgICAgICAgICAgfSwgMTAwMCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAgZGlzcGxheSA6IGZ1bmN0aW9uIChkZXB0aCwgbGV2ZWwpIHsKICAgICAgICAgICAgdmFyIG1heF92YWx1ZSA9IE1hdGgubWF4KGxldmVsLmFza3NbdGhpcy5zdGVwLTFdWzFdLCBsZXZlbC5iaWRzW3RoaXMuc3RlcC0xXVsxXSksCiAgICAgICAgICAgICAgICBtYXhfd2lkdGggPSA4MCwKICAgICAgICAgICAgICAgIHRtcCA9IDAsCiAgICAgICAgICAgICAgICB3aWR0aCA9IDAsCiAgICAgICAgICAgICAgICBpID0gMCwKICAgICAgICAgICAgICAgIGxlbmd0aCA9IGRlcHRoLmFza3MubGVuZ3RoLAogICAgICAgICAgICAgICAgaHRtbCA9ICc8c3R5bGU+Lm9yZGVybGlzdCAuYy0xe3dpZHRoOjQwJTtwYWRkaW5nLWxlZnQ6MTVweH0ub3JkZXJsaXN0IC5jLTJ7ZGlzcGxheTppbmxpbmUtYmxvY2s7aGVpZ2h0OjE1cHg7bWFyZ2luOjAgNXB4fS5vcmRlcmxpc3QgLmNlbnRlcnt0ZXh0LWFsaWduOmNlbnRlcn0gLm9yZGVybGlzdHttYXJnaW46MDtwYWRkaW5nOjB9IC5vcmRlcmxpc3QgbGkgc3BhbntkaXNwbGF5OmlubGluZS1ibG9ja30gLm9yZGVybGlzdCBsaXttYXJnaW46IDA7cGFkZGluZzogMDtsaXN0LXN0eWxlOiBub25lOyBsaW5lLWhlaWdodDozMHB4O2JvcmRlci1ib3R0b206MXB4IHNvbGlkICNlNGU0ZTR9Lm9yZGVybGlzdCAuZ3JlZW57Y29sb3I6ICM0ZDllMzM7fTwvc3R5bGU+JwogICAgICAgICAgICAgICAgICAgICArICc8dWwgY2xhc3M9Im9yZGVybGlzdCI+PGxpIGNsYXNzPSJib3JkZXJidG0gYmxhY2siPjxzcGFuIGNsYXNzPSJoZWlnaHQtNDAgYy0xIGZvbnRzaXplIj7ku7fmoLwv5Y2V6YePPC9zcGFuPjxzcGFuIGNsYXNzPSJoZWlnaHQtNDAgYy0yIGZvbnRzaXplIj7mt7HluqY8L3NwYW4+PC9saT4nOwogICAgICAgICAgICBmb3IgKGkgPSBsZW5ndGgtdGhpcy5zdGVwOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgIHRtcCA9IGxldmVsLmFza3MucG9wKCk7CiAgICAgICAgICAgICAgICB3aWR0aCA9IHRtcFsxXS9tYXhfdmFsdWUgKiBtYXhfd2lkdGg7CiAgICAgICAgICAgICAgICBodG1sICs9ICc8bGkgY2xhc3M9InJlZCI+PHNwYW4gY2xhc3M9ImMtMSI+JytkZXB0aC5hc2tzW2ldWzBdLnRvRml4ZWQoMikrJyB8ICcrZGVwdGguYXNrc1tpXVsxXSsnPC9zcGFuPicrdG1wWzBdKyc8c3BhbiBjbGFzcz0iYy0yIiBzdHlsZT0iYmFja2dyb3VuZDojZmYwMDAwO3dpZHRoOicrd2lkdGgrJ3B4OyI+PC9zcGFuPicrdG1wWzFdKyc8L2xpPic7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCB0aGlzLnN0ZXA7IGkrKykgewogICAgICAgICAgICAgICAgdG1wID0gbGV2ZWwuYmlkcy5zaGlmdCgpOwogICAgICAgICAgICAgICAgd2lkdGggPSB0bXBbMV0vbWF4X3ZhbHVlICogbWF4X3dpZHRoOwogICAgICAgICAgICAgICAgaHRtbCArPSAnPGxpIGNsYXNzPSJncmVlbiI+PHNwYW4gY2xhc3M9ImMtMSI+JytkZXB0aC5iaWRzW2ldWzBdLnRvRml4ZWQoMikrJyB8ICcrZGVwdGguYmlkc1tpXVsxXSsnPC9zcGFuPicrdG1wWzBdKyc8c3BhbiBjbGFzcz0iYy0yIiBzdHlsZT0iYmFja2dyb3VuZDojMDY4ODE0O3dpZHRoOicrd2lkdGgrJ3B4OyI+PC9zcGFuPicrdG1wWzFdKyc8L2xpPic7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGh0bWwgKz0gJzxsaSBjbGFzcz0iY2VudGVyIj4nKyhuZXcgRGF0ZSgpKS50b0xvY2FsZVN0cmluZygpKyc8L2xpPjwvdWw+JzsKICAgICAgICAgICAgcmV0dXJuIGh0bWw7CiAgICAgICAgfQogICAgfTsKICAgIAogICAgKG5ldyBEZXB0aCh7CiAgICAgICAgYXBpIDogJ2h0dHBzOi8vd3d3Lm9rY29pbi5jb20vYXBpL2RlcHRoLmRvP3N5bWJvbD1sdGNfY255JywKICAgICAgICBsaW1pdCA6IDUwLAogICAgICAgIHN0ZXAgOiA1LAogICAgICAgIGNvbnRhaW5uZXIgOiAnLmJ1eWJ0Y2JvZHkyJwogICAgfSkpLnVwZGF0ZSgpOwp9KCkpOwo="},{"name":"HuobiBTC","options":{"awareOfChrome":true,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_prototypes":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"excludes":false,"includes":false,"matches":false,"merge_excludes":false,"merge_includes":false,"merge_matches":true,"orig_excludes":[],"orig_includes":[],"orig_matches":["https://www.huobi.com/trade/index.php"],"orig_noframes":null,"orig_run_at":"document-end","use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"user_agent":""},"enabled":true,"position":3,"source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgSHVvYmlCVEMKLy8gQG5hbWVzcGFjZSAgaHR0cDovL3d3dy5oZW1vbm8uY29tLwovLyBAdmVyc2lvbiAgICAwLjEKLy8gQGRlc2NyaXB0aW9uICBlbnRlciBzb21ldGhpbmcgdXNlZnVsCi8vIEBtYXRjaCAgICAgIGh0dHBzOi8vd3d3Lmh1b2JpLmNvbS90cmFkZS9pbmRleC5waHAKLy8gQGNvcHlyaWdodCAgMjAxNCssIGhlbW9ub0BnbWFpbC5jb20KLy8gPT0vVXNlclNjcmlwdD09CgooZnVuY3Rpb24oKSB7CiAgICBmdW5jdGlvbiBEZXB0aChvcHRpb25zKSB7CiAgICAgICAgdmFyIGk7CiAgICAgICAgZm9yIChpIGluIG9wdGlvbnMpIHsKICAgICAgICAgICAgaWYgKG9wdGlvbnMuaGFzT3duUHJvcGVydHkoaSkpIHsKICAgICAgICAgICAgICAgIHRoaXNbaV0gPSBvcHRpb25zW2ldOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQogICAgCiAgICBEZXB0aC5wcm90b3R5cGUgPSB7CiAgICAgICAgYXBpIDogJycsCiAgICAgICAgbGltaXQgOiA2MCwKICAgICAgICBzdGVwIDogNSwKICAgICAgICBjb250YWlubmVyIDogJycsCiAgICAgICAgZGVwdGggOiBbXSwKICAgICAgICBsZXZlbCA6IFtdLAogICAgICAgIHRyaW0gOiBmdW5jdGlvbiAoZGF0YSwgbGltaXQpIHsKICAgICAgICAgICAgdmFyIGxlbmd0aCA9IGRhdGEuYXNrcy5sZW5ndGgsIAogICAgICAgICAgICAgICAgYXNrcyA9IFtdLCAKICAgICAgICAgICAgICAgIGJpZHMgPSBbXSwgCiAgICAgICAgICAgICAgICBpID0gMDsKICAgICAgICAgICAgbGltaXQgPSAobGltaXQ+bGVuZ3RoID8gbGVuZ3RoIDogbGltaXQpOwogICAgICAgICAgICAKICAgICAgICAgICAgZm9yIChpID0gbGVuZ3RoLWxpbWl0OyBpIDwgbGVuZ3RoIDsgaSsrKSB7CiAgICAgICAgICAgICAgICBhc2tzLnB1c2goW3BhcnNlRmxvYXQoZGF0YS5hc2tzW2ldWzBdKSwgcGFyc2VGbG9hdChkYXRhLmFza3NbaV1bMV0pXSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGxpbWl0OyBpKysgKSB7CiAgICAgICAgICAgICAgICBiaWRzLnB1c2goW3BhcnNlRmxvYXQoZGF0YS5iaWRzW2ldWzBdKSwgcGFyc2VGbG9hdChkYXRhLmJpZHNbaV1bMV0pXSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIHsnYXNrcyc6YXNrcywgJ2JpZHMnOmJpZHN9OwogICAgICAgIH0sCiAgICAgICAgc3VtIDogZnVuY3Rpb24gKGRhdGEsIHN0ZXApIHsKICAgICAgICAgICAgdmFyIGxlbmd0aCA9IGRhdGEuYXNrcy5sZW5ndGgsCiAgICAgICAgICAgICAgICBqID0gbGVuZ3RoL3N0ZXAsCiAgICAgICAgICAgICAgICBpID0gMCwKICAgICAgICAgICAgICAgIGFza3MgPSBbXSwKICAgICAgICAgICAgICAgIGJpZHMgPSBbXSwKICAgICAgICAgICAgICAgIHN1bSA9IDA7CiAgICAgICAgICAgIAogICAgICAgICAgICBmb3IgKGkgPSBsZW5ndGgtMTsgaSA+PSAwOyBpLS0pIHsKICAgICAgICAgICAgICAgIHN1bSArPSBkYXRhLmFza3NbaV1bMV07CiAgICAgICAgICAgICAgICBpZiAoIGkgJSBqID09IDAgKSB7CiAgICAgICAgICAgICAgICAgICAgYXNrcy5wdXNoKFtkYXRhLmFza3NbaV1bMF0udG9GaXhlZCgyKSwgc3VtLnRvRml4ZWQoMildKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgCiAgICAgICAgICAgIHN1bSA9IDA7CiAgICAgICAgICAgIGZvciAoaSA9IDE7IGkgPD0gbGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgIHN1bSArPSBkYXRhLmJpZHNbaS0xXVsxXTsKICAgICAgICAgICAgICAgIGlmICggaSAlIGogPT0gMCApIHsKICAgICAgICAgICAgICAgICAgICBiaWRzLnB1c2goW2RhdGEuYmlkc1tpLTFdWzBdLnRvRml4ZWQoMiksIHN1bS50b0ZpeGVkKDIpXSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgIAogICAgICAgICAgICByZXR1cm4geydhc2tzJzphc2tzLCAnYmlkcyc6Ymlkc307CiAgICAgICAgfSwKICAgICAgICB1cGRhdGUgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciAkdGhpcyA9IHRoaXM7CiAgICAgICAgICAgIGpRdWVyeS5hamF4KHsKICAgICAgICAgICAgICAgIHVybCA6ICR0aGlzLmFwaSwKICAgICAgICAgICAgICAgIGRhdGFUeXBlIDogJ2pzb24nLAogICAgICAgICAgICAgICAgY2FjaGUgOiBmYWxzZSwKICAgICAgICAgICAgICAgIHN1Y2Nlc3MgOiBmdW5jdGlvbihkYXRhKSB7CiAgICAgICAgICAgICAgICAgICAgJHRoaXMuZGVwdGggPSAkdGhpcy50cmltKGRhdGEsICR0aGlzLmxpbWl0KTsKICAgICAgICAgICAgICAgICAgICAkdGhpcy5sZXZlbCA9ICR0aGlzLnN1bSgkdGhpcy5kZXB0aCwgJHRoaXMuc3RlcCk7CiAgICAgICAgICAgICAgICAgICAgalF1ZXJ5KCR0aGlzLmNvbnRhaW5uZXIpLmh0bWwoJHRoaXMuZGlzcGxheSgkdGhpcy5kZXB0aCwgJHRoaXMubGV2ZWwpKTsKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICBjb21wbGV0ZSA6IGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMudXBkYXRlKCk7CiAgICAgICAgICAgICAgICAgICAgfSwgMTAwMCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAgZGlzcGxheSA6IGZ1bmN0aW9uIChkZXB0aCwgbGV2ZWwpIHsKICAgICAgICAgICAgdmFyIG1heF92YWx1ZSA9IE1hdGgubWF4KGxldmVsLmFza3NbdGhpcy5zdGVwLTFdWzFdLCBsZXZlbC5iaWRzW3RoaXMuc3RlcC0xXVsxXSksCiAgICAgICAgICAgICAgICBtYXhfd2lkdGggPSA4MCwKICAgICAgICAgICAgICAgIHRtcCA9IDAsCiAgICAgICAgICAgICAgICB3aWR0aCA9IDAsCiAgICAgICAgICAgICAgICBpID0gMCwKICAgICAgICAgICAgICAgIGxlbmd0aCA9IGRlcHRoLmFza3MubGVuZ3RoLAogICAgICAgICAgICAgICAgaHRtbCA9ICc8c3R5bGU+Lm9yZGVybGlzdCAuYy0xe3dpZHRoOjQwJTtwYWRkaW5nLWxlZnQ6MTVweH0ub3JkZXJsaXN0IC5jLTJ7ZGlzcGxheTppbmxpbmUtYmxvY2s7aGVpZ2h0OjE1cHg7bWFyZ2luOjAgNXB4fS5vcmRlcmxpc3QgLmNlbnRlcnt0ZXh0LWFsaWduOmNlbnRlcn0gLm9yZGVybGlzdHttYXJnaW46MDtwYWRkaW5nOjB9IC5vcmRlcmxpc3QgbGkgc3BhbntkaXNwbGF5OmlubGluZS1ibG9ja30gLm9yZGVybGlzdCBsaXttYXJnaW46IDA7cGFkZGluZzogMDtsaXN0LXN0eWxlOiBub25lOyBsaW5lLWhlaWdodDozMHB4O2JvcmRlci1ib3R0b206MXB4IHNvbGlkICNlNGU0ZTR9Lm9yZGVybGlzdCAuZ3JlZW57Y29sb3I6ICM0ZDllMzM7fTwvc3R5bGU+JwogICAgICAgICAgICAgICAgICAgICArICc8dWwgY2xhc3M9Im9yZGVybGlzdCI+PGxpIGNsYXNzPSJib3JkZXJidG0gYmxhY2siPjxzcGFuIGNsYXNzPSJoZWlnaHQtNDAgYy0xIGZvbnRzaXplIj7ku7fmoLwv5Y2V6YePPC9zcGFuPjxzcGFuIGNsYXNzPSJoZWlnaHQtNDAgYy0yIGZvbnRzaXplIj7mt7HluqY8L3NwYW4+PC9saT4nOwogICAgICAgICAgICBmb3IgKGkgPSBsZW5ndGgtdGhpcy5zdGVwOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgIHRtcCA9IGxldmVsLmFza3MucG9wKCk7CiAgICAgICAgICAgICAgICB3aWR0aCA9IHRtcFsxXS9tYXhfdmFsdWUgKiBtYXhfd2lkdGg7CiAgICAgICAgICAgICAgICBodG1sICs9ICc8bGkgY2xhc3M9InJlZCI+PHNwYW4gY2xhc3M9ImMtMSI+JytkZXB0aC5hc2tzW2ldWzBdLnRvRml4ZWQoMikrJyB8ICcrZGVwdGguYXNrc1tpXVsxXSsnPC9zcGFuPicrdG1wWzBdKyc8c3BhbiBjbGFzcz0iYy0yIiBzdHlsZT0iYmFja2dyb3VuZDojZmYwMDAwO3dpZHRoOicrd2lkdGgrJ3B4OyI+PC9zcGFuPicrdG1wWzFdKyc8L2xpPic7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCB0aGlzLnN0ZXA7IGkrKykgewogICAgICAgICAgICAgICAgdG1wID0gbGV2ZWwuYmlkcy5zaGlmdCgpOwogICAgICAgICAgICAgICAgd2lkdGggPSB0bXBbMV0vbWF4X3ZhbHVlICogbWF4X3dpZHRoOwogICAgICAgICAgICAgICAgaHRtbCArPSAnPGxpIGNsYXNzPSJncmVlbiI+PHNwYW4gY2xhc3M9ImMtMSI+JytkZXB0aC5iaWRzW2ldWzBdLnRvRml4ZWQoMikrJyB8ICcrZGVwdGguYmlkc1tpXVsxXSsnPC9zcGFuPicrdG1wWzBdKyc8c3BhbiBjbGFzcz0iYy0yIiBzdHlsZT0iYmFja2dyb3VuZDojMDY4ODE0O3dpZHRoOicrd2lkdGgrJ3B4OyI+PC9zcGFuPicrdG1wWzFdKyc8L2xpPic7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGh0bWwgKz0gJzxsaSBjbGFzcz0iY2VudGVyIj4nKyhuZXcgRGF0ZSgpKS50b0xvY2FsZVN0cmluZygpKyc8L2xpPjwvdWw+JzsKICAgICAgICAgICAgcmV0dXJuIGh0bWw7CiAgICAgICAgfQogICAgfTsKICAgIAogICAgKG5ldyBEZXB0aCh7CiAgICAgICAgYXBpIDogJ2h0dHBzOi8vbWFya2V0Lmh1b2JpLmNvbS9zdGF0aWNtYXJrZXQvZGVwdGhfYnRjX2pzb24uanMnLAogICAgICAgIGxpbWl0IDogNTAsCiAgICAgICAgc3RlcCA6IDUsCiAgICAgICAgY29udGFpbm5lciA6ICcudW5pdC1kZWxlZ2F0aW9uLWNvJwogICAgfSkpLnVwZGF0ZSgpOwp9KCkpOwo="},{"name":"HuobiLTC","options":{"awareOfChrome":true,"comment":null,"compat_arrayleft":false,"compat_foreach":false,"compat_forvarin":false,"compat_metadata":false,"compat_prototypes":false,"compat_uW_gmonkey":false,"compat_wrappedjsobject":false,"compatopts_for_requires":true,"noframes":null,"override":{"excludes":false,"includes":false,"matches":false,"merge_excludes":true,"merge_includes":true,"merge_matches":true,"orig_excludes":[],"orig_includes":[],"orig_matches":["https://ltc.huobi.com/ltc/trade.php"],"orig_noframes":null,"orig_run_at":"document-end","use_excludes":[],"use_includes":[],"use_matches":[]},"run_at":null,"user_agent":""},"enabled":true,"position":4,"source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgSHVvYmlMVEMKLy8gQG5hbWVzcGFjZSAgaHR0cDovL3d3dy5oZW1vbm8uY29tLwovLyBAdmVyc2lvbiAgICAwLjEKLy8gQGRlc2NyaXB0aW9uICBlbnRlciBzb21ldGhpbmcgdXNlZnVsCi8vIEBtYXRjaCAgICAgIGh0dHBzOi8vbHRjLmh1b2JpLmNvbS9sdGMvdHJhZGUucGhwCi8vIEBjb3B5cmlnaHQgIDIwMTQrLCBoZW1vbm9AZ21haWwuY29tCi8vID09L1VzZXJTY3JpcHQ9PQoKKGZ1bmN0aW9uKCkgewogICAgZnVuY3Rpb24gRGVwdGgob3B0aW9ucykgewogICAgICAgIHZhciBpOwogICAgICAgIGZvciAoaSBpbiBvcHRpb25zKSB7CiAgICAgICAgICAgIGlmIChvcHRpb25zLmhhc093blByb3BlcnR5KGkpKSB7CiAgICAgICAgICAgICAgICB0aGlzW2ldID0gb3B0aW9uc1tpXTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KICAgIAogICAgRGVwdGgucHJvdG90eXBlID0gewogICAgICAgIGFwaSA6ICcnLAogICAgICAgIGxpbWl0IDogNjAsCiAgICAgICAgc3RlcCA6IDUsCiAgICAgICAgY29udGFpbm5lciA6ICcnLAogICAgICAgIGRlcHRoIDogW10sCiAgICAgICAgbGV2ZWwgOiBbXSwKICAgICAgICB0cmltIDogZnVuY3Rpb24gKGRhdGEsIGxpbWl0KSB7CiAgICAgICAgICAgIHZhciBsZW5ndGggPSBkYXRhLmFza3MubGVuZ3RoLCAKICAgICAgICAgICAgICAgIGFza3MgPSBbXSwgCiAgICAgICAgICAgICAgICBiaWRzID0gW10sIAogICAgICAgICAgICAgICAgaSA9IDA7CiAgICAgICAgICAgIGxpbWl0ID0gKGxpbWl0Pmxlbmd0aCA/IGxlbmd0aCA6IGxpbWl0KTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGZvciAoaSA9IGxlbmd0aC1saW1pdDsgaSA8IGxlbmd0aCA7IGkrKykgewogICAgICAgICAgICAgICAgYXNrcy5wdXNoKFtwYXJzZUZsb2F0KGRhdGEuYXNrc1tpXVswXSksIHBhcnNlRmxvYXQoZGF0YS5hc2tzW2ldWzFdKV0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBsaW1pdDsgaSsrICkgewogICAgICAgICAgICAgICAgYmlkcy5wdXNoKFtwYXJzZUZsb2F0KGRhdGEuYmlkc1tpXVswXSksIHBhcnNlRmxvYXQoZGF0YS5iaWRzW2ldWzFdKV0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiB7J2Fza3MnOmFza3MsICdiaWRzJzpiaWRzfTsKICAgICAgICB9LAogICAgICAgIHN1bSA6IGZ1bmN0aW9uIChkYXRhLCBzdGVwKSB7CiAgICAgICAgICAgIHZhciBsZW5ndGggPSBkYXRhLmFza3MubGVuZ3RoLAogICAgICAgICAgICAgICAgaiA9IGxlbmd0aC9zdGVwLAogICAgICAgICAgICAgICAgaSA9IDAsCiAgICAgICAgICAgICAgICBhc2tzID0gW10sCiAgICAgICAgICAgICAgICBiaWRzID0gW10sCiAgICAgICAgICAgICAgICBzdW0gPSAwOwogICAgICAgICAgICAKICAgICAgICAgICAgZm9yIChpID0gbGVuZ3RoLTE7IGkgPj0gMDsgaS0tKSB7CiAgICAgICAgICAgICAgICBzdW0gKz0gZGF0YS5hc2tzW2ldWzFdOwogICAgICAgICAgICAgICAgaWYgKCBpICUgaiA9PSAwICkgewogICAgICAgICAgICAgICAgICAgIGFza3MucHVzaChbZGF0YS5hc2tzW2ldWzBdLnRvRml4ZWQoMiksIHN1bS50b0ZpeGVkKDIpXSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgIAogICAgICAgICAgICBzdW0gPSAwOwogICAgICAgICAgICBmb3IgKGkgPSAxOyBpIDw9IGxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICBzdW0gKz0gZGF0YS5iaWRzW2ktMV1bMV07CiAgICAgICAgICAgICAgICBpZiAoIGkgJSBqID09IDAgKSB7CiAgICAgICAgICAgICAgICAgICAgYmlkcy5wdXNoKFtkYXRhLmJpZHNbaS0xXVswXS50b0ZpeGVkKDIpLCBzdW0udG9GaXhlZCgyKV0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAKICAgICAgICAgICAgcmV0dXJuIHsnYXNrcyc6YXNrcywgJ2JpZHMnOmJpZHN9OwogICAgICAgIH0sCiAgICAgICAgdXBkYXRlIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgJHRoaXMgPSB0aGlzOwogICAgICAgICAgICBqUXVlcnkuYWpheCh7CiAgICAgICAgICAgICAgICB1cmwgOiAkdGhpcy5hcGksCiAgICAgICAgICAgICAgICBkYXRhVHlwZSA6ICdqc29uJywKICAgICAgICAgICAgICAgIGNhY2hlIDogZmFsc2UsCiAgICAgICAgICAgICAgICBzdWNjZXNzIDogZnVuY3Rpb24oZGF0YSkgewogICAgICAgICAgICAgICAgICAgICR0aGlzLmRlcHRoID0gJHRoaXMudHJpbShkYXRhLCAkdGhpcy5saW1pdCk7CiAgICAgICAgICAgICAgICAgICAgJHRoaXMubGV2ZWwgPSAkdGhpcy5zdW0oJHRoaXMuZGVwdGgsICR0aGlzLnN0ZXApOwogICAgICAgICAgICAgICAgICAgIGpRdWVyeSgkdGhpcy5jb250YWlubmVyKS5odG1sKCR0aGlzLmRpc3BsYXkoJHRoaXMuZGVwdGgsICR0aGlzLmxldmVsKSk7CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgY29tcGxldGUgOiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICAgICAgICAgICR0aGlzLnVwZGF0ZSgpOwogICAgICAgICAgICAgICAgICAgIH0sIDEwMDApOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIGRpc3BsYXkgOiBmdW5jdGlvbiAoZGVwdGgsIGxldmVsKSB7CiAgICAgICAgICAgIHZhciBtYXhfdmFsdWUgPSBNYXRoLm1heChsZXZlbC5hc2tzW3RoaXMuc3RlcC0xXVsxXSwgbGV2ZWwuYmlkc1t0aGlzLnN0ZXAtMV1bMV0pLAogICAgICAgICAgICAgICAgbWF4X3dpZHRoID0gODAsCiAgICAgICAgICAgICAgICB0bXAgPSAwLAogICAgICAgICAgICAgICAgd2lkdGggPSAwLAogICAgICAgICAgICAgICAgaSA9IDAsCiAgICAgICAgICAgICAgICBsZW5ndGggPSBkZXB0aC5hc2tzLmxlbmd0aCwKICAgICAgICAgICAgICAgIGh0bWwgPSAnPHN0eWxlPi5vcmRlcmxpc3QgLmMtMXt3aWR0aDo0MCU7cGFkZGluZy1sZWZ0OjE1cHh9Lm9yZGVybGlzdCAuYy0ye2Rpc3BsYXk6aW5saW5lLWJsb2NrO2hlaWdodDoxNXB4O21hcmdpbjowIDVweH0ub3JkZXJsaXN0IC5jZW50ZXJ7dGV4dC1hbGlnbjpjZW50ZXJ9IC5vcmRlcmxpc3R7bWFyZ2luOjA7cGFkZGluZzowfSAub3JkZXJsaXN0IGxpIHNwYW57ZGlzcGxheTppbmxpbmUtYmxvY2t9IC5vcmRlcmxpc3QgbGl7bWFyZ2luOiAwO3BhZGRpbmc6IDA7bGlzdC1zdHlsZTogbm9uZTsgbGluZS1oZWlnaHQ6MzBweDtib3JkZXItYm90dG9tOjFweCBzb2xpZCAjZTRlNGU0fS5vcmRlcmxpc3QgLmdyZWVue2NvbG9yOiAjNGQ5ZTMzO308L3N0eWxlPicKICAgICAgICAgICAgICAgICAgICAgKyAnPHVsIGNsYXNzPSJvcmRlcmxpc3QiPjxsaSBjbGFzcz0iYm9yZGVyYnRtIGJsYWNrIj48c3BhbiBjbGFzcz0iaGVpZ2h0LTQwIGMtMSBmb250c2l6ZSI+5Lu35qC8L+WNlemHjzwvc3Bhbj48c3BhbiBjbGFzcz0iaGVpZ2h0LTQwIGMtMiBmb250c2l6ZSI+5rex5bqmPC9zcGFuPjwvbGk+JzsKICAgICAgICAgICAgZm9yIChpID0gbGVuZ3RoLXRoaXMuc3RlcDsgaSA8IGxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICB0bXAgPSBsZXZlbC5hc2tzLnBvcCgpOwogICAgICAgICAgICAgICAgd2lkdGggPSB0bXBbMV0vbWF4X3ZhbHVlICogbWF4X3dpZHRoOwogICAgICAgICAgICAgICAgaHRtbCArPSAnPGxpIGNsYXNzPSJyZWQiPjxzcGFuIGNsYXNzPSJjLTEiPicrZGVwdGguYXNrc1tpXVswXS50b0ZpeGVkKDIpKycgfCAnK2RlcHRoLmFza3NbaV1bMV0rJzwvc3Bhbj4nK3RtcFswXSsnPHNwYW4gY2xhc3M9ImMtMiIgc3R5bGU9ImJhY2tncm91bmQ6I2ZmMDAwMDt3aWR0aDonK3dpZHRoKydweDsiPjwvc3Bhbj4nK3RtcFsxXSsnPC9saT4nOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgdGhpcy5zdGVwOyBpKyspIHsKICAgICAgICAgICAgICAgIHRtcCA9IGxldmVsLmJpZHMuc2hpZnQoKTsKICAgICAgICAgICAgICAgIHdpZHRoID0gdG1wWzFdL21heF92YWx1ZSAqIG1heF93aWR0aDsKICAgICAgICAgICAgICAgIGh0bWwgKz0gJzxsaSBjbGFzcz0iZ3JlZW4iPjxzcGFuIGNsYXNzPSJjLTEiPicrZGVwdGguYmlkc1tpXVswXS50b0ZpeGVkKDIpKycgfCAnK2RlcHRoLmJpZHNbaV1bMV0rJzwvc3Bhbj4nK3RtcFswXSsnPHNwYW4gY2xhc3M9ImMtMiIgc3R5bGU9ImJhY2tncm91bmQ6IzA2ODgxNDt3aWR0aDonK3dpZHRoKydweDsiPjwvc3Bhbj4nK3RtcFsxXSsnPC9saT4nOwogICAgICAgICAgICB9CgogICAgICAgICAgICBodG1sICs9ICc8bGkgY2xhc3M9ImNlbnRlciI+JysobmV3IERhdGUoKSkudG9Mb2NhbGVTdHJpbmcoKSsnPC9saT48L3VsPic7CiAgICAgICAgICAgIHJldHVybiBodG1sOwogICAgICAgIH0KICAgIH07CiAgICAKICAgIChuZXcgRGVwdGgoewogICAgICAgIGFwaSA6ICdodHRwczovL21hcmtldC5odW9iaS5jb20vc3RhdGljbWFya2V0L2RlcHRoX2x0Y19qc29uLmpzJywKICAgICAgICBsaW1pdCA6IDUwLAogICAgICAgIHN0ZXAgOiA1LAogICAgICAgIGNvbnRhaW5uZXIgOiAnLnVuaXQtZGVsZWdhdGlvbi1jbycKICAgIH0pKS51cGRhdGUoKTsKfSgpKTsK"}]}
